<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>LeadMe - To Spontaneous Adventures</title>

    <!-- Bootstrap Core CSS -->
    <link href="static/css/bootstrap.min.css?2" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="static/css/landing-page.css?59" rel="stylesheet">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <!-- Header -->
    <a name="about"></a>
    <div class="intro-header">
        <div class="container">

            <div class="row">
                <div class="col-lg-12">
                    <div class="intro-message">
                        <h1>LeadMe</h1>
                        <h4>Enter where you are, and let us take you on an adventure</h4>
                        <hr class="intro-divider">
<form id="goform">
  <div class="form-group">
    <input type="location" class="form-control" id="location_input" placeholder="E.g.: 200 University Ave W, Waterloo, ON N2L 3G1, Canada">
  </div>
</form>
                        <img class="loading-image" src="static/img/load.gif" alt="loading">
                    </div>
                </div>
            </div>

        </div>
        <!-- /.container -->
    </div>
    <!-- /.intro-header -->


    <!-- Page Content -->
    <div class="container" id="main-header">
      <div class="row" style="padding:120px 0;background-color: #000000; margin-bottom: 40px">
        <div class="col-sm-12">
          <h1 style="color: #FFFFFF; font-weight: 200; letter-spacing:10px;" class="text-center">LeadMe</h1>
          <h6 style="color: #FFFFFF; font-weight: 200; letter-spacing:3px;" class="text-center">Your personalized itinerary for a spontaneous day</h1>
        </div>
      </div>
    </div>

    <div class="container" id="main-content">
      <div class="row">
        <div class="col-sm-3 sidebar">
          <ol>
            <li>
              Mango Chutney
            </li>

            <li>
              Times Square
            </li>

            <li>
              Mango Chutney
            </li>
            <li>
              Mango Chutney
            </li>
            <li>
              Mango Chutney
            </li>
          </ol>
        </div>

        <div class="col-sm-9">
          <div class="card uber_card">
            <div class="card-block">
              <h4 class="dd_title">Take an Uber to your next destination!</h4>

              <div class="row">
                <div class="col-sm-3">
                  <img src="static/img/uber.png" >
                  <dl class="">
                    <dd class="dd_price">Price: $34</dd>
                    <dd class="dd_duration">Duration: 30 min</dd>
                  </dl>
                </div>
                <div class="col-sm-9">
                  <iframe class="uber_map" width="600" height="300" frameborder="0" style="border:0"
                  src="https://www.google.com/maps/embed/v1/directions?origin=San Francisco&destination=San Jose&key=AIzaSyAk0S3v1hWFIYkyhlRrqDHk8ZOuopnuWHE" allowfullscreen></iframe>
                </div>
              </div>
            </div>
          </div>
          <div class="card">
            <img class="card-img-top" src="static/img/active.jpg" alt="Card image cap" style="width: 100%;">
            <div class="card-block">
              <h4 class="card-title">Mango Chutney</h4>

              <div class="row">
                <div class="col-sm-4">
                  <dl class="">
                    <dd class="dd_address">Address: whatever</dd>
                    <dd class="dd_phone"></dd>
                  </dl>
                </div>

                <div class="col-sm-8">
                  <p class="card-text">
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                  </p>
                </div>
              </div>

              <div class="row">
                <div class="col-sm-12">
                  <a class="pull-right yelp">
                    View on Yelp
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="card uber_card">
            <div class="card-block">
              <h4 class="dd_title">Take an Uber to your next destination!</h4>

              <div class="row">
                <div class="col-sm-3">
                  <img src="static/img/uber.png" >
                  <dl class="">
                    <dd class="dd_price">Price: $34</dd>
                    <dd class="dd_duration">Duration: 30 min</dd>
                  </dl>
                </div>
                <div class="col-sm-9">
                  <iframe class="uber_map" width="600" height="300" frameborder="0" style="border:0"
                  src="https://www.google.com/maps/embed/v1/directions?origin=San Francisco&destination=San Jose&key=AIzaSyAk0S3v1hWFIYkyhlRrqDHk8ZOuopnuWHE" allowfullscreen></iframe>
                </div>
              </div>
            </div>
          </div>
          <div class="card">
            <img class="card-img-top" src="static/img/lunch.jpg" alt="Card image cap" style="width: 100%;">
            <div class="card-block">
              <h4 class="card-title">Mango Chutney</h4>
              <div class="row">
                <div class="col-sm-4">
                  <dl class="">
                    <dd class="dd_address">Address: whatever</dd>
                    <dd class="dd_phone">Phone Number: whatever</dd>
                  </dl>
                </div>

                <div class="col-sm-8">
                  <p class="card-text">
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                  </p>
                </div>
              </div>

              <div class="row">
                <div class="col-sm-12">
                  <a class="pull-right yelp">
                    View on Yelp
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="card uber_card">
            <div class="card-block">
              <h4 class="dd_title">Take an Uber to your next destination!</h4>

              <div class="row">
                <div class="col-sm-3">
                  <img src="static/img/uber.png" >
                  <dl class="">
                    <dd class="dd_price">Price: $34</dd>
                    <dd class="dd_duration">Duration: 30 min</dd>
                  </dl>
                </div>
                <div class="col-sm-9">
                  <iframe class="uber_map" width="600" height="300" frameborder="0" style="border:0"
                  src="https://www.google.com/maps/embed/v1/directions?origin=San Francisco&destination=San Jose&key=AIzaSyAk0S3v1hWFIYkyhlRrqDHk8ZOuopnuWHE" allowfullscreen></iframe>
                </div>
              </div>
            </div>
          </div>
          <div class="card">
            <img class="card-img-top" src="static/img/art.jpg" alt="Card image cap" style="width: 100%;">
            <div class="card-block">
              <h4 class="card-title">Mango Chutney</h4>
              <div class="row">
                <div class="col-sm-4">
                  <dl class="">
                    <dd class="dd_address">Address: whatever</dd>
                    <dd class="dd_phone">Phone Number: whatever</dd>
                  </dl>
                </div>

                <div class="col-sm-8">
                  <p class="card-text">
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                  </p>
                </div>
              </div>

              <div class="row">
                <div class="col-sm-12">
                  <a class="pull-right yelp">
                    View on Yelp
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="card uber_card">
            <div class="card-block">
              <h4 class="dd_title">Take an Uber to your next destination!</h4>

              <div class="row">
                <div class="col-sm-3">
                  <img src="static/img/uber.png" >
                  <dl class="">
                    <dd class="dd_price">Price: $34</dd>
                    <dd class="dd_duration">Duration: 30 min</dd>
                  </dl>
                </div>
                <div class="col-sm-9">
                  <iframe class="uber_map" width="600" height="300" frameborder="0" style="border:0"
                  src="https://www.google.com/maps/embed/v1/directions?origin=San Francisco&destination=San Jose&key=AIzaSyAk0S3v1hWFIYkyhlRrqDHk8ZOuopnuWHE" allowfullscreen></iframe>
                </div>
              </div>
            </div>
          </div>

          <div class="card">
            <img class="card-img-top" src="static/img/dinner.jpg" alt="Card image cap" style="width: 100%;">
            <div class="card-block">
              <h4 class="card-title">Mango Chutney</h4>
              <div class="row">
                <div class="col-sm-4">
                  <dl class="">
                    <dd class="dd_address">Address: whatever</dd>
                    <dd class="dd_phone">Phone Number: whatever</dd>
                  </dl>
                </div>

                <div class="col-sm-8">
                  <p class="card-text">
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                  </p>
                </div>
              </div>

              <div class="row">
                <div class="col-sm-12">
                  <a class="pull-right yelp">
                    View on Yelp
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="card uber_card">
            <div class="card-block">
              <h4 class="dd_title">Take an Uber to your next destination!</h4>

              <div class="row">
                <div class="col-sm-3">
                  <img src="static/img/uber.png" >
                  <dl class="">
                    <dd class="dd_price">Price: $34</dd>
                    <dd class="dd_duration">Duration: 30 min</dd>
                  </dl>
                </div>
                <div class="col-sm-9">
                  <iframe class="uber_map" width="600" height="300" frameborder="0" style="border:0"
                  src="https://www.google.com/maps/embed/v1/directions?origin=San Francisco&destination=San Jose&key=AIzaSyAk0S3v1hWFIYkyhlRrqDHk8ZOuopnuWHE" allowfullscreen></iframe>
                </div>
              </div>
            </div>
          </div>

          <div class="card">
            <img class="card-img-top" src="static/img/nightlife.jpg" alt="Card image cap" style="width: 100%;">
            <div class="card-block">
              <h4 class="card-title">Mango Chutney</h4>
              <div class="row">
                <div class="col-sm-4">
                  <dl class="">
                    <dd class="dd_address">Address: whatever</dd>
                    <dd class="dd_phone">Phone Number: whatever</dd>
                  </dl>
                </div>

                <div class="col-sm-8">
                  <p class="card-text">
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                  </p>
                </div>
              </div>

              <div class="row">
                <div class="col-sm-12">
                  <a class="pull-right yelp">
                    View on Yelp
                  </a>
                </div>
              </div>
            </div>
          </div>


          <div class="card uber_card">
            <div class="card-block">
              <h4 class="dd_title">Take an Uber to your next destination!</h4>

              <div class="row">
                <div class="col-sm-3">
                  <img src="static/img/uber.png" >
                  <dl class="">
                    <dd class="dd_price">Price: $34</dd>
                    <dd class="dd_duration">Duration: 30 min</dd>
                  </dl>
                </div>
                <div class="col-sm-9">
                  <iframe class="uber_map" width="600" height="300" frameborder="0" style="border:0"
                  src="https://www.google.com/maps/embed/v1/directions?origin=San Francisco&destination=San Jose&key=AIzaSyAk0S3v1hWFIYkyhlRrqDHk8ZOuopnuWHE" allowfullscreen></iframe>
                </div>
              </div>
            </div>
          </div>

          <div class="card">
            <img class="card-img-top" src="static/img/bar.jpg" alt="Card image cap" style="width: 100%;">
            <div class="card-block">
              <h4 class="card-title">Mango Chutney</h4>
              <div class="row">
                <div class="col-sm-4">
                  <dl class="">
                    <dd class="dd_address">Address: whatever</dd>
                    <dd class="dd_phone">Phone Number: whatever</dd>
                  </dl>
                </div>

                <div class="col-sm-8">
                  <p class="card-text">
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                  </p>
                </div>
              </div>

              <div class="row">
                <div class="col-sm-12">
                  <a class="pull-right yelp">
                    View on Yelp
                  </a>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
    <!--
        <iframe width="600" height="450" frameborder="0" style="border:0"
        src="https://www.google.com/maps/embed/v1/directions?origin=San Francisco&destination=San Jose&key=AIzaSyAk0S3v1hWFIYkyhlRrqDHk8ZOuopnuWHE" allowfullscreen></iframe>
  <iframe width="600" height="450" frameborder="0" style="border:0"
    src="https://www.google.com/maps/embed/v1/place?q=2580 El camino real redwood&key=AIzaSyAk0S3v1hWFIYkyhlRrqDHk8ZOuopnuWHE" allowfullscreen></iframe>
    -->




    <!-- jQuery -->
    <script src="static/js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

</body>
<script>

content = []
start_address = ""

function loadContent(content) {
  for (i = 0; i < 6; i++) {
    console.log(content[i]["place"]["name"])
    $('.card .card-title').eq(i).text(content[i]["place"]["name"])
    $('li').eq(i).text(content[i]["place"]["name"])
    $('.card .card-text').eq(i).text("\"" + content[i]["place"]["snippet_text"] + "\"")
    $('.card .dd_address').eq(i).html(content[i]["place"]["location"]["display_address"][0] + "<br>" +
content[i]["place"]["location"]["display_address"][1] + "<br>" +
content[i]["place"]["location"]["display_address"][2]);

    $('.card .dd_phone').eq(i).text(content[i]["place"]["display_phone"])
    $('.yelp').eq(i).attr('href', content[i]["place"]["url"])
  }
}

function loadUber(content) {
    $(".uber_map").eq(0).attr("src","https://www.google.com/maps/embed/v1/directions?origin="+ start_address +

      "&destination="+
      content[0]["place"]["location"]["display_address"][0]+","+
      content[0]["place"]["location"]["display_address"][1]+","+
      content[0]["place"]["location"]["display_address"][2]+

      "&key=AIzaSyAk0S3v1hWFIYkyhlRrqDHk8ZOuopnuWHE")
  for (i = 1; i < 7; i++) {
    if (i < 6) {
      $(".uber_map").eq(i).attr("src","https://www.google.com/maps/embed/v1/directions?origin="+
        content[i-1]["place"]["location"]["display_address"][0]+","+
        content[i-1]["place"]["location"]["display_address"][1]+","+
        content[i-1]["place"]["location"]["display_address"][2]+

        "&destination="+
        content[i]["place"]["location"]["display_address"][0]+","+
        content[i]["place"]["location"]["display_address"][1]+","+
        content[i]["place"]["location"]["display_address"][2]+

        "&key=AIzaSyAk0S3v1hWFIYkyhlRrqDHk8ZOuopnuWHE") 
    }
    if (content[i-1]["uber"]["price"] < 6) {
      $(".dd_title").eq(i-1).text("Walk to your next destination!")
      $(".dd_price").eq(i-1).text("Price: FREE")
      $(".dd_duration").eq(i-1).text("Duration: " + Math.floor(content[i-1]["uber"]["duration"]/10) + " min")
    } else {
      $(".dd_title").eq(i-1).text("Uber to your next destination!")
      $(".dd_price").eq(i-1).text("Price: $" + content[i-1]["uber"]["price"])
      $(".dd_duration").eq(i-1).text("Duration: " + Math.floor(content[i-1]["uber"]["duration"]/60) + " min")
    }
  }
  
}

$( "#goform" ).submit(function( event ) {
  event.preventDefault();
  value_string = $('#location_input').val();
  $(".loading-image").show();
    $.getJSON("discover?address="+value_string,
        function(result) {
          console.log(result);
          if ("error" in result) {
            alert("Address not found, please try again");
            $(".loading-image").hide();
          } else {
            start_address = value_string
            content = result;
            loadContent(content);
            loadUber(content);
            $(".loading-image").hide();
            // do stuff here, fill in
            $("#main-header").show();
            $("#main-content").show();
            $(".intro-header").hide();
          }
        }
    );
  });

// google maps stiff
</script>


</html>
